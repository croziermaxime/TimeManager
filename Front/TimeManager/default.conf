server {
    listen 8080 default_server;
    listen [::]:8080 default_server;

    root   /usr/share/nginx/html;
    index  index.html index.htm;

    add_header "Access-Control-Allow-Origin"  * always;
    add_header "Access-Control-Allow-Methods" "GET, POST, OPTIONS, HEAD";
    add_header "Access-Control-Allow-Headers" "Authorization, Origin, X-Requested-With, Content-Type, Accept";

    location / {
        try_files $uri $uri/ /index.html;
    }
    location /api/ {
        proxy_pass http://172.21.0.4:4000/;
    }             
    error_page   500 502 503 504  /50x.html;                  
    location = /50x.html {                                    
        root   /usr/share/nginx/html;                         
    }                                                         
    # SSL configuration
    #
    # listen 443 ssl default_server;
    # listen [::]:443 ssl default_server;
    #
    # Note: You should disable gzip for SSL traffic.
    # See: https://bugs.debian.org/773332
    #
    # Read up on ssl_ciphers to ensure a secure configuration.
    # See: https://bugs.debian.org/765782
    #
    # Self signed certs generated by the ssl-cert package
    # Don't use them in a production server!
    #
    # include snippets/snakeoil.conf;
    # Add index.php to the list if you are using PHP
    index index.html index.htm index.nginx-debian.html;
    server_name _;
}